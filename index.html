<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Obsidian Bastian ‚Äî Command Hub</title>
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <style>
    :root {
      --bg-dark: #181c24;
      --bg-panel: #23283a;
      --accent: #4fd1c5;
      --text-main: #e2e8f0;
      --text-muted: #a0aec0;
      --border: #2d3748;
      --tile-radius: 10px;
      --font-family: 'Segoe UI', 'Roboto', Arial, sans-serif;
    }

    /* Page basics */
    html,body{height:100%;margin:0;font-family:var(--font-family);background:var(--bg-dark);color:var(--text-main)}
    /* Header with ship image placeholder */
    header {
      background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(0,0,0,0.02));
      border-bottom: 2px solid var(--accent);
      padding: 18px;
    }
    .header-inner {
      max-width:1200px;
      margin:0 auto;
      display:flex;
      align-items:center;
      gap:18px;
      justify-content:center;
      padding:6px 12px;
    }
    .ship-img {
      width:96px;
      height:96px;
      border-radius:12px;
      object-fit:cover;
      border: 1px solid rgba(255,255,255,0.04);
      box-shadow: 0 6px 20px rgba(0,0,0,0.6);
      background: linear-gradient(180deg, rgba(79,209,197,0.06), rgba(255,255,255,0.01));
      flex:0 0 96px;
      animation: headerFloat 6s ease-in-out infinite;
    }
    @keyframes headerFloat {
      0% { transform: translateY(-4px); }
      50% { transform: translateY(4px); }
      100% { transform: translateY(-4px); }
    }
    .header-text { text-align:left; }
    .header-text h1 { margin:0; font-size:1.6rem; color:var(--accent); letter-spacing:1.6px; }
    .header-text p { margin:6px 0 0 0; color:var(--text-muted); font-size:0.95rem; }

    /* Container layout: left (large) + right (side) */
    .container {
      max-width:1200px;
      margin:20px auto;
      padding:0 18px 48px;
      display: grid;
      grid-template-columns: 2fr 1fr;
      gap: 20px;
    }

    /* Full-width About panel at top (kept for compatibility, hide duplicate title) */
    .about {
      grid-column: 1 / -1;
      background: linear-gradient(180deg, rgba(79,209,197,0.03), rgba(255,255,255,0.01));
      border: 1px solid var(--border);
      border-radius: 12px;
      padding: 18px;
      box-shadow: 0 2px 12px rgba(0,0,0,0.45);
      display:flex;
      gap:18px;
      align-items:center;
      justify-content:space-between;
    }
    .about .about-text { max-width: 72%; }
    .about h3 { margin:0 0 6px 0;color:var(--accent);font-size:1.15rem }
    .about p { margin:0;color:var(--text-muted);line-height:1.45 }
    .about .about-actions { display:flex; gap:10px; align-items:center }
    .about a.btn { text-decoration:none; }

    /* Panels */
    .panel {
      background: var(--bg-panel);
      border: 1px solid var(--border);
      border-radius: 12px;
      padding: 16px;
      box-shadow: 0 2px 10px rgba(0,0,0,0.35);
    }
    .panel h3 { margin:0 0 10px 0;color:var(--accent);font-size:1.15rem }

    /* Systems dock (left column) */
    .systems-dock {
      display: grid;
      grid-template-columns: repeat(2, 1fr);
      gap: 12px;
    }
    .tile {
      background: linear-gradient(180deg, rgba(255,255,255,0.02), transparent);
      border:1px solid var(--border);
      border-radius: var(--tile-radius);
      padding:12px;
      display:flex;
      flex-direction:column;
      justify-content:space-between;
      min-height:96px;
      transform-origin:center;
      transition: transform .16s ease, box-shadow .16s ease;
      will-change: transform;
      opacity: 0; /* start hidden for entrance animation */
    }

    /* Main (Onboard Computer) tile spans the two columns */
    .tile.main {
      grid-column: 1 / -1;
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap: 16px;
      padding: 18px;
      min-height:140px;
    }
    .tile-head { display:flex; gap:12px; align-items:center }
    .tile-icon {
      width:48px;height:48px;border-radius:10px;background:rgba(79,209,197,0.06);display:flex;align-items:center;justify-content:center;font-size:20px;color:var(--accent)
    }
    .tile-title { font-weight:700; font-size:1rem }
    .tile-desc { color:var(--text-muted); font-size:0.9rem; margin-top:4px }

    .tile-actions { display:flex; gap:8px; align-items:center }
    .btn {
      background:var(--accent); color:var(--bg-panel); padding:8px 12px; border-radius:8px; text-decoration:none; font-weight:700; border:none; cursor:pointer;
    }
    .btn.ghost { background:transparent;color:var(--text-main); border:1px solid var(--border); padding:7px 10px; font-weight:600 }

    /* Hover/active effects for tiles */
    .tile:hover { transform: translateY(-6px) scale(1.03); box-shadow: 0 10px 30px rgba(0,0,0,0.45); }

    /* subtle entrance animation (staggered) */
    @keyframes floatUp { from { opacity: 0; transform: translateY(10px) scale(.996); } to { opacity:1; transform: none; } }
    .systems-dock .tile { animation: floatUp .36s ease both; }
    .systems-dock .tile:nth-child(1) { animation-delay: 0.02s; }
    .systems-dock .tile:nth-child(2) { animation-delay: 0.08s; }
    .systems-dock .tile:nth-child(3) { animation-delay: 0.14s; }
    .systems-dock .tile:nth-child(4) { animation-delay: 0.20s; }
    .systems-dock .tile:nth-child(5) { animation-delay: 0.26s; }
    .systems-dock .tile:nth-child(6) { animation-delay: 0.32s; }
    .systems-dock .tile:nth-child(7) { animation-delay: 0.38s; }
    .systems-dock .tile:nth-child(8) { animation-delay: 0.44s; }

    /* Right column stack */
    .side-stack { display:flex; flex-direction:column; gap:12px }
    .small-list { list-style:none; padding:0; margin:0; display:flex; flex-direction:column; gap:10px }
    .small-item { display:flex; gap:10px; align-items:flex-start }

    /* Default small thumb used in lists */
    .thumb { width:56px;height:36px;border-radius:6px;background:rgba(255,255,255,0.02); object-fit:cover; }

    /* Gallery wrapper and thumbnails (larger) */
    .gallery-grid {
      display:flex;
      gap:12px;
      flex-wrap:wrap;
      align-items:center;
    }

    .gallery-grid .thumb {
      width:200px;
      height:130px;
      object-fit:cover;
      border-radius:8px;
      border: 1px solid rgba(0,0,0,0.06);
      cursor:pointer;
      transition: transform .12s ease, box-shadow .12s ease;
      display:block;
    }
    .gallery-grid .thumb:focus,
    .gallery-grid .thumb:hover { transform: translateY(-6px); box-shadow: 0 8px 24px rgba(0,0,0,0.5); outline: none; }

    @media (min-width: 900px) {
      .gallery-grid .thumb { width:240px; height:156px; }
    }

    /* Lightbox / slideshow */
    .lightbox {
      position:fixed;
      inset:0;
      background: rgba(0,0,0,0.85);
      display:none;
      align-items:center;
      justify-content:center;
      z-index:1200;
      padding:24px;
    }
    .lightbox.open { display:flex; }

    .lb-content {
      max-width: 92vw;
      max-height: 82vh;
      display:flex;
      flex-direction:column;
      align-items:center;
      gap:12px;
    }
    .lb-content img {
      max-width: 100%;
      max-height: calc(82vh - 80px);
      object-fit:contain;
      border-radius:8px;
      box-shadow: 0 8px 40px rgba(0,0,0,0.6);
      background: #000;
    }
    .lb-caption {
      color:var(--text-muted);
      font-size:0.95rem;
      text-align:center;
      max-width:92vw;
    }

    .lb-close, .lb-prev, .lb-next {
      position:absolute;
      background:transparent;
      color:var(--text-main);
      border:0;
      font-size:28px;
      cursor:pointer;
      padding:12px;
      line-height:1;
    }
    .lb-close { top:18px; right:22px; font-size:30px; }
    .lb-prev { left:18px; top:50%; transform:translateY(-50%); }
    .lb-next { right:18px; top:50%; transform:translateY(-50%); }

    .lb-close:focus, .lb-prev:focus, .lb-next:focus { outline:2px solid rgba(79,209,197,0.28); border-radius:8px; }

    /* Footer */
    footer { text-align:center;color:var(--text-muted);padding:24px 0 40px;border-top:1px solid var(--border);margin-top:18px }

    /* Responsiveness */
    @media (max-width:1000px){
      .container { grid-template-columns: 1fr; padding-bottom:28px }
      .systems-dock { grid-template-columns: repeat(2, 1fr) }
      .tile.main { grid-column: 1 / -1; flex-direction:column; align-items:flex-start }
      .about { flex-direction:column; align-items:flex-start; gap:12px }
      .about .about-text { max-width:100% }
      .header-inner { justify-content:flex-start; }
      .header-text { text-align:left }
      .gallery-grid .thumb { width:160px; height:104px; }
    }
    @media (max-width:600px){
      .systems-dock { grid-template-columns: 1fr }
      .ship-img { width:72px; height:72px; flex:0 0 72px; }
      .header-inner { gap:12px; padding:6px; }
      .header-text h1 { font-size:1.25rem; }
      .gallery-grid { justify-content:center; }
      .gallery-grid .thumb { width:140px; height:90px; }
    }
  </style>
</head>
<body>
  <header>
    <div class="header-inner" role="banner" aria-label="Obsidian Bastian header">
      <!-- Replace the placeholder image at /images/ship-header.jpg with your ship photo -->
      <img class="ship-img" src="https://obviouslymelissa-hub.github.io/obsidianbastian/images/ship-header.jpg" alt="Obsidian Bastian ship image placeholder">
      <div class="header-text">
        <h1>Obsidian Bastian Command Hub</h1>
        <p>Centralized access for all crew operations and ship systems ‚Äî hover tiles to reveal actions.</p>
      </div>
    </div>
  </header>

  <main class="container" aria-live="polite">
    <!-- ABOUT: full-width, top -->
    <section class="about" role="region" aria-labelledby="about-title">
      <div class="about-text">
        <h3 id="about-title">About the Obsidian Bastian</h3>
        <p>
          The Obsidian Bastian is a family-run exploration cruiser optimized for long-range missions,
          crew comfort, and modular repairs. This ship hosts mission controls, a mainframe for telemetry,
          and a compact engineering bay‚Äîmanaged by the onboard computer.
        </p>
      </div>
      <div class="about-actions">
        <a class="btn" href="https://obviouslymelissa-hub.github.io/obsidianbastian/crew.html" aria-label="About and Crew">About &amp; Crew</a>
        <a class="btn ghost" href="https://obviouslymelissa-hub.github.io/obsidianbastian/onboardcomputer.html" aria-label="Open Onboard Computer">Open Console</a>
      </div>
    </section>

    <!-- LEFT: Systems Dock (larger column) -->
    <section class="panel" aria-labelledby="systems-title">
      <h3 id="systems-title">Systems Dock</h3>

      <div class="systems-dock" role="list">
        <!-- Onboard Computer (prominent main tile spanning left column width) -->
        <div class="tile main" role="listitem" aria-label="Onboard Computer">
          <div style="display:flex;gap:14px;align-items:center;">
            <div class="tile-icon" aria-hidden="true">üíª</div>
            <div>
              <div class="tile-title">Onboard Computer</div>
              <div class="tile-desc">Primary control interface ‚Äî main console, diagnostics, and mission controls.</div>
            </div>
          </div>
          <div class="tile-actions">
            <a class="btn" href="https://obviouslymelissa-hub.github.io/obsidianbastian/onboardcomputer.html" aria-label="Open Onboard Computer">Open</a>
            <a class="btn ghost" href="https://obviouslymelissa-hub.github.io/obsidianbastian/diagnostics.html" aria-label="Run Diagnostics">Diagnostics</a>
          </div>
        </div>

        <!-- New order: Mainframe, Atmospherics, Navigation, Communications, Inventory, Power Management, Diagnostics -->
        <div class="tile" role="listitem">
          <div class="tile-head">
            <div class="tile-icon" aria-hidden="true">üñ•Ô∏è</div>
            <div>
              <div class="tile-title">Mainframe</div>
              <div class="tile-desc">Health metrics and charts.</div>
            </div>
          </div>
          <div style="display:flex;justify-content:flex-end;margin-top:8px">
            <a class="btn" href="https://obviouslymelissa-hub.github.io/obsidianbastian/mainframe-health.html">Open</a>
          </div>
        </div>

        <div class="tile" role="listitem">
          <div class="tile-head">
            <div class="tile-icon" aria-hidden="true">‚òÅÔ∏è</div>
            <div>
              <div class="tile-title">Atmospherics</div>
              <div class="tile-desc">Planetary weather and composition.</div>
            </div>
          </div>
          <div style="display:flex;justify-content:flex-end;margin-top:8px">
            <a class="btn" href="https://obviouslymelissa-hub.github.io/obsidianbastian/mainframeweather.html">Open</a>
          </div>
        </div>

        <div class="tile" role="listitem">
          <div class="tile-head">
            <div class="tile-icon" aria-hidden="true">üß≠</div>
            <div>
              <div class="tile-title">Navigation</div>
              <div class="tile-desc">Maps, routes and travel controls.</div>
            </div>
          </div>
          <div style="display:flex;justify-content:flex-end;margin-top:8px">
            <a class="btn" href="https://obviouslymelissa-hub.github.io/obsidianbastian/navigationconsole.html">Open</a>
          </div>
        </div>

        <div class="tile" role="listitem">
          <div class="tile-head">
            <div class="tile-icon" aria-hidden="true">üì°</div>
            <div>
              <div class="tile-title">Communications</div>
              <div class="tile-desc">Message streams and channel controls.</div>
            </div>
          </div>
          <div style="display:flex;justify-content:flex-end;margin-top:8px">
            <a class="btn" href="https://obviouslymelissa-hub.github.io/obsidianbastian/communications.html">Open</a>
          </div>
        </div>

        <div class="tile" role="listitem">
          <div class="tile-head">
            <div class="tile-icon" aria-hidden="true">üì¶</div>
            <div>
              <div class="tile-title">Inventory</div>
              <div class="tile-desc">Parts, supplies and orders.</div>
            </div>
          </div>
          <div style="display:flex;justify-content:flex-end;margin-top:8px">
            <a class="btn" href="https://obviouslymelissa-hub.github.io/obsidianbastian/partsinventory.html">Open</a>
          </div>
        </div>

        <!-- NEW: Power Management tile inserted between Inventory and Diagnostics -->
        <div class="tile" role="listitem">
          <div class="tile-head">
            <div class="tile-icon" aria-hidden="true">‚ö°</div>
            <div>
              <div class="tile-title">Power Management</div>
              <div class="tile-desc">Ship power systems, reactors and fuel telemetry.</div>
            </div>
          </div>
          <div style="display:flex;justify-content:flex-end;margin-top:8px">
            <a class="btn" href="https://obviouslymelissa-hub.github.io/obsidianbastian/powermanagement.html">Open</a>
          </div>
        </div>

        <div class="tile" role="listitem">
          <div class="tile-head">
            <div class="tile-icon" aria-hidden="true">üõ†</div>
            <div>
              <div class="tile-title">Diagnostics</div>
              <div class="tile-desc">Deep checks, logs and repairs.</div>
            </div>
          </div>
          <div style="display:flex;justify-content:flex-end;margin-top:8px">
            <a class="btn" href="https://obviouslymelissa-hub.github.io/obsidianbastian/diagnostics.html">Open</a>
          </div>
        </div>
      </div>
    </section>

    <!-- RIGHT: Side column with Notifications + Events and compact panels -->
    <aside>
      <div class="side-stack">
        <!-- Notifications + Events (combined) -->
        <div class="panel" aria-labelledby="alerts-title">
          <h3 id="alerts-title">Notifications &amp; Events</h3>

          <ul class="small-list" aria-live="polite" style="margin-bottom:12px">
            <li class="small-item">
              <div style="flex:1">
                <strong style="color:var(--accent)">No critical alerts</strong>
                <div style="color:var(--text-muted);font-size:0.9rem">All mission-critical systems stable.</div>
              </div>
            </li>

            <li class="small-item">
              <div style="flex:1">
                <strong>Communications</strong>
                <div style="color:var(--text-muted);font-size:0.9rem">Channel: Standby</div>
              </div>
            </li>
          </ul>

          <h4 style="margin:0 0 8px 0;color:var(--text-main)">Upcoming Events</h4>
          <ul class="small-list">
            <li class="small-item">
              <div style="flex:1">
                <strong>Captain Carter's Birthday</strong>
                <div style="color:var(--text-muted);font-size:0.9rem">2026-01-22 ‚Ä¢ 17:30 ‚Äî Authorized Personnel Only</div>
              </div>
            </li>
            <li class="small-item">
              <div style="flex:1">
                <strong>Mechanic Nima's Birthday</strong>
                <div style="color:var(--text-muted);font-size:0.9rem">2026-01-22 ‚Ä¢ 17:30</div>
              </div>
            </li>
          </ul>
        </div>

        <!-- Photo gallery with larger thumbnails and a lightbox slideshow -->
        <div class="panel" aria-labelledby="gallery-title">
          <h3 id="gallery-title">Photo Gallery</h3>
          <div class="gallery-grid" id="gallery">
            <img class="thumb" data-index="0" src="https://obviouslymelissa-hub.github.io/obsidianbastian/images/ship-1.jpg" alt="Command Deck ‚Äî view 1" tabindex="0" />
            <img class="thumb" data-index="1" src="https://obviouslymelissa-hub.github.io/obsidianbastian/images/ship-2.jpg" alt="Observation Dome ‚Äî view 2" tabindex="0" />
            <img class="thumb" data-index="2" src="https://obviouslymelissa-hub.github.io/obsidianbastian/images/ship-3.jpg" alt="Exterior ‚Äî view 3" tabindex="0" />
          </div>
        </div>
      </div>
    </aside>
  </main>

  <!-- Lightbox / slideshow markup -->
  <div id="lightbox" class="lightbox" aria-hidden="true" role="dialog" aria-modal="true" aria-label="Image viewer">
    <button class="lb-close" id="lbClose" aria-label="Close viewer">&times;</button>
    <button class="lb-prev" id="lbPrev" aria-label="Previous image">‚Äπ</button>

    <div class="lb-content" role="document">
      <img id="lbImage" src="" alt="">
      <div id="lbCaption" class="lb-caption" aria-live="polite"></div>
    </div>

    <button class="lb-next" id="lbNext" aria-label="Next image">‚Ä∫</button>
  </div>

  <footer>
    ¬© Family Fleet ‚Äî Obsidian Bastian ‚Ä¢ Public homepage
  </footer>

  <script>
    (function(){
      const images = [
        { src: 'https://obviouslymelissa-hub.github.io/obsidianbastian/images/ship-1.jpg', caption: 'Command Deck' },
        { src: 'https://obviouslymelissa-hub.github.io/obsidianbastian/images/ship-2.jpg', caption: 'Observation Dome' },
        { src: 'https://obviouslymelissa-hub.github.io/obsidianbastian/images/ship-3.jpg', caption: 'Exterior' }
      ];

      const gallery = document.getElementById('gallery');
      const thumbs = gallery ? Array.from(gallery.querySelectorAll('.thumb')) : [];
      const lightbox = document.getElementById('lightbox');
      const lbImage = document.getElementById('lbImage');
      const lbCaption = document.getElementById('lbCaption');
      const lbClose = document.getElementById('lbClose');
      const lbPrev = document.getElementById('lbPrev');
      const lbNext = document.getElementById('lbNext');

      let current = 0;

      function openLightbox(idx) {
        current = (typeof idx === 'number') ? idx : 0;
        const item = images[current];
        lbImage.src = item.src;
        lbImage.alt = item.caption || '';
        lbCaption.textContent = item.caption || '';
        lightbox.classList.add('open');
        lightbox.setAttribute('aria-hidden', 'false');
        // move focus to close for accessibility
        lbClose.focus();
        // prevent page scrolling
        document.body.style.overflow = 'hidden';
      }

      function closeLightbox() {
        lightbox.classList.remove('open');
        lightbox.setAttribute('aria-hidden', 'true');
        lbImage.src = '';
        lbCaption.textContent = '';
        document.body.style.overflow = '';
        // return focus to the thumbnail that opened it
        const thumb = thumbs[current];
        if (thumb) thumb.focus();
      }

      function showPrev() {
        current = (current - 1 + images.length) % images.length;
        updateLightbox();
      }
      function showNext() {
        current = (current + 1) % images.length;
        updateLightbox();
      }
      function updateLightbox() {
        const item = images[current];
        // swap image source; browsers will cache so this is usually fast
        lbImage.src = item.src;
        lbImage.alt = item.caption || '';
        lbCaption.textContent = item.caption || '';
      }

      // Attach handlers to thumbnails
      thumbs.forEach(t => {
        t.addEventListener('click', (e) => {
          const idx = Number(t.getAttribute('data-index'));
          openLightbox(idx);
        });
        // Allow Enter/Space to open when focused
        t.addEventListener('keydown', (e) => {
          if (e.key === 'Enter' || e.key === ' ') {
            e.preventDefault();
            const idx = Number(t.getAttribute('data-index'));
            openLightbox(idx);
          }
        });
      });

      // Controls
      lbClose.addEventListener('click', closeLightbox);
      lbPrev.addEventListener('click', showPrev);
      lbNext.addEventListener('click', showNext);

      // Close when clicking outside the image
      lightbox.addEventListener('click', (e) => {
        if (e.target === lightbox) closeLightbox();
      });

      // Keyboard navigation
      document.addEventListener('keydown', (e) => {
        if (!lightbox.classList.contains('open')) return;
        if (e.key === 'Escape') closeLightbox();
        else if (e.key === 'ArrowLeft') showPrev();
        else if (e.key === 'ArrowRight') showNext();
      });

      // Preload images for smoother navigation
      images.forEach(i => {
        const img = new Image();
        img.src = i.src;
      });
    })();
  </script>
</body>
</html>
